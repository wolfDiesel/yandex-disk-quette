# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –≤–µ–±-—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ –Ω–∞ React + TypeScript + shadcn/ui

## –¶–µ–ª—å

–ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–µ–∫ (–≤–∞–Ω–∏–ª—å–Ω—ã–π JS + Tailwind) –Ω–∞ **React + TypeScript + shadcn/ui** –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ —Å C++ (QWebChannel, –∏–Ω—ä–µ–∫—Ü–∏–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤).

---

## –§–∞–∑–∞ 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–±–µ–∑ —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞)

### 0.1 –ù–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø–æ–¥ React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

- –°–æ–∑–¥–∞—Ç—å **–æ—Ç–¥–µ–ª—å–Ω—É—é** –ø–∞–ø–∫—É –ø–æ–¥ React, –Ω–∞–ø—Ä–∏–º–µ—Ä: `src/app/web_experiment_react/` (—Ä—è–¥–æ–º —Å `web_experiment/`).
- –°—Ç–∞—Ä—ã–π `web_experiment/` –ø–æ–∫–∞ –Ω–µ —Ç—Ä–æ–≥–∞—Ç—å ‚Äî –æ–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –∏ –æ—Ç–¥–∞–≤–∞—Ç—å—Å—è –≤ QRC –¥–æ –∫–æ–Ω—Ü–∞ –º–∏–≥—Ä–∞—Ü–∏–∏.

### 0.2 –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Vite + React + TypeScript

- –í `web_experiment_react/` –≤—ã–ø–æ–ª–Ω–∏—Ç—å:
  - `npm create vite@latest . -- --template react-ts`
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ: React 18, TypeScript, Vite.

### 0.3 Tailwind + shadcn/ui

- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Tailwind –≤ Vite-–ø—Ä–æ–µ–∫—Ç–µ (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è Vite + Tailwind).
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å shadcn/ui:
  - `npx shadcn@latest init`
  - –í—ã–±—Ä–∞—Ç—å —Å—Ç–∏–ª—å –∏ —Ç–µ–º—É –ø–æ –≤–∫—É—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä New York, zinc).
- –î–æ–±–∞–≤–∏—Ç—å –Ω—É–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –º–µ—Ä–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `Button`, `ScrollArea`, `DropdownMenu`, `Toast`/`Sonner`, `Breadcrumb`, `Checkbox`, `Input`, `Label`, `Separator`, `Progress` –∏ —Ç.–¥.

### 0.4 –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –≤ Qt

- –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–¥: `npm run build`.
- –í—ã—Ö–æ–¥ Vite: `dist/index.html` + `dist/assets/*.js` + `dist/assets/*.css`.
- –î–ª—è Qt WebEngine –Ω—É–∂–Ω–æ –æ—Ç–¥–∞–≤–∞—Ç—å –æ–¥–∏–Ω –±–∞–∑–æ–≤—ã–π URL (–Ω–∞–ø—Ä–∏–º–µ—Ä `qrc:/web_experiment_react/index.html`). –í—Å–µ –∏–º–ø–æ—Ä—Ç—ã –≤ `index.html` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–º–∏ (`/assets/...` –∏–ª–∏ `./assets/...`), —á—Ç–æ–±—ã QRC –∏—Ö –æ—Ç–¥–∞–ª.
- –ü–ª–∞–Ω –ø–æ QRC:
  - –î–æ–±–∞–≤–∏—Ç—å –≤ `app_resources.qrc` —Ñ–∞–π–ª—ã –∏–∑ `web_experiment_react/dist/`: `index.html` –∏ –≤—Å—ë –∏–∑ `dist/assets/` (–∏–ª–∏ –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É –≤ –æ–¥–Ω—É –ø–∞–ø–∫—É —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏ –±–µ–∑ —Ö–µ—à–µ–π, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏).
- –í `WebExperimentWindow` –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å URL: –∑–∞–≥—Ä—É–∂–∞—Ç—å –Ω–µ `qrc:/web_experiment/index.html`, –∞ `qrc:/web_experiment_react/index.html` ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∞. –ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏ –∑–∞—Ç–µ–º —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π `web_experiment`.

---

## –§–∞–∑–∞ 1: –ö–æ–Ω—Ç—Ä–∞–∫—Ç —Å C++ (–≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ –∏ –º–æ—Å—Ç)

C++ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–µ–ª–∞—Ç—å —Ç–æ –∂–µ —Å–∞–º–æ–µ: –≤—ã–ø–æ–ª–Ω—è—Ç—å `runJavaScript`, –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –≤—ã–∑—ã–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏. React –¥–æ–ª–∂–µ–Ω ¬´–ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è¬ª –Ω–∞ —ç—Ç–∏ –≤—ã–∑–æ–≤—ã.

### 1.1 –¢–∏–ø—ã –¥–ª—è –º–æ—Å—Ç–∞ (TypeScript)

- –§–∞–π–ª `src/lib/bridge-types.ts` (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞):
  - –û–ø–∏—Å–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å **Bridge API**: –≤—Å–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–µ–π—á–∞—Å –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ `window.__bridge` (getTreeJson, setPathChecked, requestChildrenForPath, requestContentsForPath, getSettings, saveSettings, chooseSyncFolder, startSync, stopSync, downloadFile, openFileFromCloud, deleteFromDisk).
  - –û–ø–∏—Å–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã: `downloadFinished(success, errorMessage)`, `deleteFinished(success, errorMessage)` (–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ treeUpdated).
  - –†–∞—Å—à–∏—Ä–∏—Ç—å `Window`: `interface Window { __bridge?: BridgeApi; qt?: { webChannelTransport?: unknown }; }`.
  - –¢–∏–ø—ã –¥–ª—è –¥–∞–Ω–Ω—ã—Ö: –¥–µ—Ä–µ–≤–æ (—É–∑–ª—ã —Å path, name, dir, children?, checked?), –∫–æ–Ω—Ç–µ–Ω—Ç (–º–∞—Å—Å–∏–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å path, name, dir, size?, modified?), —Å—Ç–∞—Ç—É—Å-–±–∞—Ä (quotaUsed, quotaTotal, syncStatus, syncMessage).

### 1.2 –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ QWebChannel –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ—Å—Ç–∞ –≤ React

- –í –∫–æ—Ä–Ω–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä –≤ `main.tsx` –∏–ª–∏ –≤ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ) –ø–æ—Å–ª–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `window.qt?.webChannelTransport`.
  - –°–æ–∑–¥–∞—Ç—å `new (window as any).QWebChannel(window.qt.webChannelTransport, (ch: any) => { ... })`.
  - –í –∫–æ–ª–±–µ–∫–µ: `ch.objects.bridge` —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ React state/context (–Ω–∞–ø—Ä–∏–º–µ—Ä `BridgeContext`) –∏ –≤—ã–∑–≤–∞—Ç—å `window.__onBridgeReady__?.()` –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏, –µ—Å–ª–∏ –≥–¥–µ-—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
- –°–∫—Ä–∏–ø—Ç `qrc:///qtwebchannel/qwebchannel.js` –¥–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –≤ `index.html` **–¥–æ** –Ω–∞—à–µ–≥–æ –±–∞–Ω–¥–ª–∞ (–∫–∞–∫ —Å–µ–π—á–∞—Å –≤ —Å—Ç–∞—Ä–æ–º index.html).

### 1.3 –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–π C++

C++ –≤—ã–∑—ã–≤–∞–µ—Ç (—Å–º. `web_experiment_window.cpp`):

1. **–î–µ—Ä–µ–≤–æ:** –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç `window.__TREE_DATA__` –∏ –≤—ã–∑—ã–≤–∞–µ—Ç `renderTree()` –∏ `bindTreeClicks()`. –¢–æ –∂–µ —Å–∞–º–æ–µ C++ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏ —Å–∏–≥–Ω–∞–ª–µ treeUpdated (–ø–æ—Å–ª–µ setPathChecked) ‚Äî –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è injectTree ‚Üí —Å–∫—Ä–∏–ø—Ç —Å–Ω–æ–≤–∞ —Å—Ç–∞–≤–∏—Ç __TREE_DATA__ –∏ renderTree(). –ü–æ—ç—Ç–æ–º—É renderTree() –¥–æ–ª–∂–Ω–∞ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –±—Ä–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π window.__TREE_DATA__ –∏ –∫–ª–∞—Å—Ç—å –≤ store.
2. **–î–µ—Ç–∏ —É–∑–ª–∞:** –≤—ã–∑—ã–≤–∞–µ—Ç `window.__injectChildren__(path, children)`.
3. **–ö–æ–Ω—Ç–µ–Ω—Ç:** –≤—ã–∑—ã–≤–∞–µ—Ç `window.__onContentsLoaded__(path, items)`.
4. **–°—Ç–∞—Ç—É—Å-–±–∞—Ä:** –≤—ã–∑—ã–≤–∞–µ—Ç `window.__updateStatusBar__(jsonStr)`.

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ React:

- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ –ø—Ä–∏—Å–≤–æ–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
  - `window.__TREE_DATA__` ‚Äî –º–∞—Å—Å–∏–≤ (C++ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –µ–≥–æ –≤ —Å–∫—Ä–∏–ø—Ç–µ –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º renderTree).
  - `window.renderTree = () => { ... }` ‚Äî –ø—Ä–æ—á–∏—Ç–∞—Ç—å `window.__TREE_DATA__` –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ store (–ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ –¥–µ—Ä–µ–≤–∞). –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –∏ –ø—Ä–∏ treeUpdated (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤).
  - `window.bindTreeClicks` ‚Äî no-op (–∫–ª–∏–∫–∏ –≤ React).
  - `window.__injectChildren__ = (path, children) => { ... }` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å store: –¥–ª—è —É–∑–ª–∞ path –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å children (–º–µ—Ä–∂ –≤ –¥–µ—Ä–µ–≤–æ).
  - `window.__onContentsLoaded__ = (path, items) => { ... }` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å store: —Ç–µ–∫—É—â–∏–π –ø—É—Ç—å –∏ —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞; —Å–Ω—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏.
  - `window.__updateStatusBar__ = (jsonStr) => { ... }` ‚Äî —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å JSON –∏ –æ–±–Ω–æ–≤–∏—Ç—å store —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–∞; –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–∏—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫ –°–∏–Ω—Ö—Ä./–°—Ç–æ–ø.
- –í—Å–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Äî —á–µ—Ä–µ–∑ setState/store.

---

## –§–∞–∑–∞ 2: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —ç–∫—Ä–∞–Ω—ã

### 2.1 –†–æ—É—Ç–∏–Ω–≥ –ø–∞–Ω–µ–ª–µ–π

- –î–≤–µ ¬´–ø–∞–Ω–µ–ª–∏¬ª: **–ù–∞–≤–∏–≥–∞—Ü–∏—è** (–¥–µ—Ä–µ–≤–æ + –∫–æ–Ω—Ç–µ–Ω—Ç) –∏ **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞–∫ –ª–æ–∫–∞–ª—å–Ω—ã–π state (–Ω–∞–ø—Ä–∏–º–µ—Ä `activePane: 'nav' | 'settings'`), –±–µ–∑ react-router, –µ—Å–ª–∏ –æ–¥–∏–Ω ¬´—ç–∫—Ä–∞–Ω¬ª —Å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º.

### 2.2 Layout

- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Layout`: —Å–∞–π–¥–±–∞—Ä —Å–ª–µ–≤–∞ (–∑–∞–≥–æ–ª–æ–≤–æ–∫ ¬´Y.Disquette¬ª, –ø—É–Ω–∫—Ç—ã ¬´–ù–∞–≤–∏–≥–∞—Ü–∏—è¬ª –∏ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª —Å –∏–∫–æ–Ω–∫–∞–º–∏, –≤–Ω–∏–∑—É —Å–∞–π–¥–±–∞—Ä–∞ –∫–Ω–æ–ø–∫–∞ ¬´–û–±–Ω–æ–≤–∏—Ç—å –¥–µ—Ä–µ–≤–æ¬ª), —Å–ø—Ä–∞–≤–∞ ‚Äî –æ–±–ª–∞—Å—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –≤–Ω–∏–∑—É –≤—Å–µ–≥–æ ‚Äî —Å—Ç–∞—Ç—É—Å-–±–∞—Ä (–Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É).
- –ê–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç —Å–∞–π–¥–±–∞—Ä–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–µ–Ω: —Ñ–æ–Ω/–±–æ—Ä–¥–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä bg-primary/10, border-primary), –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–π ‚Äî –ø—Ä–∏–≥–ª—É—à—ë–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç (text-muted-foreground), –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ ‚Äî hover:bg-accent. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–µ–π –±–µ–∑ —Ä–æ—É—Ç–µ—Ä–∞ (–ª–æ–∫–∞–ª—å–Ω—ã–π state activePane).
- –í –æ–±–ª–∞—Å—Ç–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: –ª–∏–±–æ –ø–∞–Ω–µ–ª—å –ù–∞–≤–∏–≥–∞—Ü–∏—è (toolbar + –¥–µ—Ä–µ–≤–æ + –∫–æ–Ω—Ç–µ–Ω—Ç), –ª–∏–±–æ –ø–∞–Ω–µ–ª—å –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (—Ñ–æ—Ä–º–∞).

### 2.3 –ü–∞–Ω–µ–ª—å ¬´–ù–∞–≤–∏–≥–∞—Ü–∏—è¬ª

- **–í–µ—Ä—Ö–Ω—è—è —Å—Ç—Ä–æ–∫–∞ (toolbar):**
  - Breadcrumbs (—Ç–µ–∫—É—â–∏–π –ø—É—Ç—å) ‚Äî –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º ¬´/¬ª, –ø—Ä–∏ –∫–ª–∏–∫–µ ‚Äî –∑–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ (expand, scroll, –≤—ã–¥–µ–ª–µ–Ω–∏–µ). –¢–µ–∫—É—â–∏–π —Å–µ–≥–º–µ–Ω—Ç –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω, –≤—ã–¥–µ–ª–µ–Ω (font-medium). –ö–æ—Ä–µ–Ω—å –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–∞–∫ ¬´–ö–æ—Ä–µ–Ω—å¬ª. –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—É—Ç–∏: ¬´–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É¬ª.
  - –ö–Ω–æ–ø–∫–∏: –°–∏–Ω—Ö—Ä., –°—Ç–æ–ø (–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å/—Å–∫—Ä—ã–≤–∞—Ç—å –°—Ç–æ–ø –ø—Ä–∏ syncStatus === 'syncing', –æ—Ç–∫–ª—é—á–∞—Ç—å –°–∏–Ω—Ö—Ä. –ø—Ä–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏).
  - –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è —á–µ—Ä—Ç–∞) –º–µ–∂–¥—É –∫–Ω–æ–ø–∫–∞–º–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏ –≤–∏–¥–∞.
  - –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∏–¥–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞: —Å–ø–∏—Å–æ–∫ / —Ç–∞–±–ª–∏—Ü–∞ / –∏–∫–æ–Ω–∫–∏ (—Ç—Ä–∏ –∫–Ω–æ–ø–∫–∏, –∞–∫—Ç–∏–≤–Ω–∞—è —Å bg-accent). –í—ã–±—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ state –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.
- **–î–µ—Ä–µ–≤–æ (—Å–ª–µ–≤–∞):**
  - –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–∞–ø–æ–∫ –∏–∑ store (–¥–∞–Ω–Ω—ã–µ –∏–∑ __TREE_DATA__ + –∏–Ω—ä–µ–∫—Ü–∏–∏ __injectChildren__). –í –¥–∞–Ω–Ω—ã—Ö —É–∑–ª—ã —Å path, name, dir, children?, checked.
  - –ü–æ—Ä—è–¥–æ–∫ –≤ —Å—Ç—Ä–æ–∫–µ —É–∑–ª–∞: —Å—Ç—Ä–µ–ª–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è (‚ñ∏, –ø–æ–≤–æ—Ä–æ—Ç 90¬∞ –ø—Ä–∏ —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏), —á–µ–∫–±–æ–∫—Å, –∏–∫–æ–Ω–∫–∞ –ø–∞–ø–∫–∏ (–∑–∞–∫—Ä—ã—Ç–∞—è/–æ—Ç–∫—Ä—ã—Ç–∞—è –ø–æ —Å–æ—Å—Ç–æ—è–Ω–∏—é expanded), –∏–º—è.
  - –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–µ—Ä–µ–≤–∞: –ø—É—Å—Ç–æ–π –∫–æ—Ä–µ–Ω—å ‚Äî ¬´Loading‚Ä¶¬ª –∏–ª–∏ ¬´No tree data.¬ª (–ø—Ä–∏ –æ—à–∏–±–∫–µ/–Ω–µ—Ç –¥–∞–Ω–Ω—ã—Ö); –ø—Ä–∏ –ª–µ–Ω–∏–≤–æ–π –ø–æ–¥–≥—Ä—É–∑–∫–µ –¥–µ—Ç–µ–π ‚Äî –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä ¬´‚Ä¶¬ª –≤ –±–ª–æ–∫–µ –¥–µ—Ç–µ–π –¥–æ –ø—Ä–∏—Ö–æ–¥–∞ __injectChildren__.
  - –ü—Ä–∏ –∫–ª–∏–∫–µ –ø–æ –ø–∞–ø–∫–µ: –∑–∞–ø—Ä–æ—Å –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ breadcrumbs, –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É–∑–ª–∞ (–∫–ª–∞—Å—Å selected), –∑–µ–ª—ë–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞ ¬´—Ç–µ–∫—É—â–∞—è –ø–∞–ø–∫–∞¬ª, —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –ø—Ä–µ–¥–∫–æ–≤ –∏ scrollIntoView.
  - –õ–µ–Ω–∏–≤–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞: –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏ —É–∑–ª–∞ –±–µ–∑ –¥–µ—Ç–µ–π ‚Äî –≤—ã–∑–æ–≤ `bridge.requestChildrenForPath(path)`; –∫–æ–≥–¥–∞ –ø—Ä–∏–¥—É—Ç –¥–µ—Ç–∏ ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å store —á–µ—Ä–µ–∑ __injectChildren__.
  - –ß–µ–∫–±–æ–∫—Å: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ ‚Äî `bridge.setPathChecked(path, checked)`.
  - –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞: Enter/Space –ø–æ —Ñ–æ–∫—É—Å—É –Ω–∞ —Å—Ç—Ä–æ–∫–µ –ø–∞–ø–∫–∏ ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ expanded/collapsed.
- **–ö–æ–Ω—Ç–µ–Ω—Ç (—Å–ø—Ä–∞–≤–∞):**
  - –¢—Ä–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è: –Ω–∞—á–∞–ª—å–Ω–æ–µ (¬´–ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –ø–∞–ø–∫–µ —Å–ª–µ–≤–∞¬ª), –∑–∞–≥—Ä—É–∑–∫–∞ (¬´–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶¬ª), —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ (–∏–ª–∏ ¬´–ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞.¬ª –ø—Ä–∏ –ø—É—Å—Ç–æ–º –º–∞—Å—Å–∏–≤–µ).
  - –¢—Ä–∏ —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–≤–∏–¥ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ state):
    - **–°–ø–∏—Å–æ–∫:** —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫: –∏–∫–æ–Ω–∫–∞ (–ø–æ —Ç–∏–ø—É/—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é), –∏–º—è, –¥–ª—è —Ñ–∞–π–ª–æ–≤ ‚Äî —Ä–∞–∑–º–µ—Ä —Å–ø—Ä–∞–≤–∞. –ò–∫–æ–Ω–∫–∏: –ø–∞–ø–∫–∞ üìÅ, –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (pdf, doc, img, video, audio, archive, code –∏ —Ç.–¥.) ‚Äî –∑–∞–¥–∞—Ç—å –º–∞–ø–ø–∏–Ω–≥ EXT_ICONS/iconForItem.
    - **–¢–∞–±–ª–∏—Ü–∞:** —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ [–∏–∫–æ–Ω–∫–∞], –ò–º—è, –†–∞–∑–º–µ—Ä, –ò–∑–º–µ–Ω—ë–Ω; –¥–ª—è –ø–∞–ø–æ–∫ –≤ –†–∞–∑–º–µ—Ä–µ ¬´‚Äî¬ª.
    - **–ò–∫–æ–Ω–∫–∏:** —Å–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ (–∏–∫–æ–Ω–∫–∞ –∫—Ä—É–ø–Ω–æ + –∏–º—è –ø–æ–¥ –Ω–µ–π).
  - –£ –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞: data-path, data-dir (–¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤), —Ç—É–ª—Ç–∏–ø (title): –¥–ª—è —Ñ–∞–π–ª–æ–≤ ‚Äî ¬´—Ä–∞–∑–º–µ—Ä ¬∑ –¥–∞—Ç–∞¬ª, –¥–ª—è –ø–∞–ø–æ–∫ ‚Äî –¥–∞—Ç–∞ (formatSize + modified).
  - –ö–ª–∏–∫ –ø–æ –ø–∞–ø–∫–µ: –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—É—Ç—å, –∑–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ (—Ä–∞—Å–∫—Ä—ã—Ç—å –ø—É—Ç—å, —Å–∫—Ä–æ–ª–ª, –∑–µ–ª—ë–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞).
  - –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ —Ñ–∞–π–ª—É: `bridge.openFileFromCloud(path)` (—Å–∫–∞—á–∞—Ç—å –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É –∏ –æ—Ç–∫—Ä—ã—Ç—å).
  - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É): –ø–æ–∑–∏—Ü–∏—è –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º; –ø—É–Ω–∫—Ç—ã ¬´–°–∫–∞—á–∞—Ç—å¬ª (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–π–ª–æ–≤ ‚Äî –¥–ª—è –ø–∞–ø–æ–∫ –æ—Ç–∫–ª—é—á–∏—Ç—å), ¬´–£–¥–∞–ª–∏—Ç—å —Å –î–∏—Å–∫–∞¬ª; –ø—Ä–∏ –≤—ã–±–æ—Ä–µ ¬´–£–¥–∞–ª–∏—Ç—å —Å –î–∏—Å–∫–∞¬ª ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ (–∞–Ω–∞–ª–æ–≥ confirm: ¬´–£–¥–∞–ª–∏—Ç—å ¬´path¬ª —Å –Ø–Ω–¥ex.–î–∏—Å–∫–∞?¬ª), –∑–∞—Ç–µ–º –≤—ã–∑–æ–≤ bridge; –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è –º–µ–Ω—é –∑–∞–∫—Ä—ã—Ç—å.
  - –í Qt –æ—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é (WebExperimentView, setAccepted(true)) ‚Äî –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ C++.
- **–¢–æ—Å—Ç –æ—à–∏–±–æ–∫:**
  - –ü—Ä–∏ downloadFinished/deleteFinished —Å success === false –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ—Å—Ç —Å —Ç–µ–∫—Å—Ç–æ–º errorMessage; –∞–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ ~5 —Å. –ü–æ–∑–∏—Ü–∏—è: –Ω–∏–∑ –ø–æ —Ü–µ–Ω—Ç—Ä—É (–Ω–∞–¥ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–æ–º).
  - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º deleteFinished ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (requestContentsForPath –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø—É—Ç–∏).

### 2.4 –ü–∞–Ω–µ–ª—å ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª

- **–ü–æ–ª—è —Ñ–æ—Ä–º—ã:** syncPath (—Ç–µ–∫—Å—Ç + –∫–Ω–æ–ø–∫–∞ ¬´–û–±–∑–æ—Ä¬ª), refreshIntervalSec (—á–∏—Å–ª–æ 5‚Äì3600, –ª–µ–π–±–ª ¬´–ò–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Å–µ–∫)¬ª), cloudCheckIntervalSec (—á–∏—Å–ª–æ 5‚Äì3600, ¬´–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–ª–∞–∫–∞ (—Å–µ–∫)¬ª), maxRetries (—á–∏—Å–ª–æ 1‚Äì10, ¬´–ü–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–µ¬ª), hideToTray (—á–µ–∫–±–æ–∫—Å ¬´–°–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å –≤ —Ç—Ä–µ–π¬ª), closeToTray (—á–µ–∫–±–æ–∫—Å ¬´–ó–∞–∫—Ä—ã–≤–∞—Ç—å –≤ —Ç—Ä–µ–π¬ª). –ö–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª.
- ¬´–û–±–∑–æ—Ä¬ª: –≤—ã–∑–æ–≤ `bridge.chooseSyncFolder(currentSyncPath)` (–ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è syncPath); —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –≤ –ø–æ–ª–µ.
- –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏ (–ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ù–∞—Å—Ç—Ä–æ–π–∫–∏) ‚Äî –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ `bridge.getSettings()` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-—Å—Ç—Ä–æ–∫—É), —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É.
- –ü—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ä–º—ã ‚Äî —Å–æ–±—Ä–∞—Ç—å –æ–±—ä–µ–∫—Ç, —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ JSON, –≤—ã–∑–≤–∞—Ç—å `bridge.saveSettings(json)` (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Promise<boolean>). –û–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—Ö–∞/–æ—à–∏–±–∫–∏ –ø–æ –∂–µ–ª–∞–Ω–∏—é (—Ç–æ—Å—Ç –∏–ª–∏ —Ç–∏—Ö–æ).

### 2.5 –°—Ç–∞—Ç—É—Å-–±–∞—Ä

- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:** –∫—Ä—É–≥ (–∏–ª–∏ –±–µ–π–¥–∂) —Å —Ü–≤–µ—Ç–æ–º –ø–æ syncStatus: off ‚Äî —Å–µ—Ä—ã–π (#9e9e9e), on ‚Äî –∑–µ–ª—ë–Ω—ã–π (#4caf50), syncing ‚Äî –æ—Ä–∞–Ω–∂–µ–≤—ã–π (#ff9800), error ‚Äî –∫—Ä–∞—Å–Ω—ã–π (#f44336). –ü–æ–¥—Å–∫–∞–∑–∫–∞ (title): ¬´–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—ã–∫–ª—é—á–µ–Ω–∞¬ª / ¬´–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞¬ª / ¬´–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è‚Ä¶¬ª / ¬´–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏¬ª.
- **–ö–≤–æ—Ç–∞:** –ø—Ä–∏ quotaTotal > 0 ‚Äî –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ/–≤—Å–µ–≥–æ –≤ %) –∏ —Ç–µ–∫—Å—Ç ¬´used / total¬ª (formatBytes). –ü—Ä–∏ quotaTotal === 0 ‚Äî —Å–∫—Ä—ã—Ç—å –±–∞—Ä, —Ç–µ–∫—Å—Ç ¬´‚Äî / ‚Äî¬ª.
- **–°–æ–æ–±—â–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:** syncMessage (–Ω–∞–ø—Ä–∏–º–µ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å), –æ–±—Ä–µ–∑–∫–∞ –ø–æ —à–∏—Ä–∏–Ω–µ (truncate).
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∏–∑ store —á–µ—Ä–µ–∑ `__updateStatusBar__(jsonStr)`. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤—ã–∑—ã–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∫–Ω–æ–ø–æ–∫ –°–∏–Ω—Ö—Ä./–°—Ç–æ–ø (—Å–º. toolbar).

---

## –§–∞–∑–∞ 3: –°–æ—Å—Ç–æ—è–Ω–∏–µ (state management)

- –í–∞—Ä–∏–∞–Ω—Ç—ã: **Zustand** (–º–∏–Ω–∏–º–∞–ª–∏–∑–º), **Context + useReducer**, –∏–ª–∏ –æ–¥–∏–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π store (–Ω–∞–ø—Ä–∏–º–µ—Ä Jotai).
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –æ–¥–∏–Ω store (Zustand –∏–ª–∏ Context) —Å —Å–ª–∞–π—Å–∞–º–∏: `tree`, `contents` (currentPath, items), `statusBar`, `settings`, `ui` (activePane, viewMode, contextMenu, toast).
- –î–µ—Ä–µ–≤–æ: —É–∑–ª—ã –ø–æ path; –ø—Ä–∏ __injectChildren__(path, children) –º–µ—Ä–∂–∏—Ç—å –¥–µ—Ç–µ–π –≤ —É–∑–µ–ª path. –ü—Ä–∏ renderTree ‚Äî –∑–∞–º–µ–Ω–∏—Ç—å –∫–æ—Ä–µ–Ω—å –Ω–∞ __TREE_DATA__.

---

## –§–∞–∑–∞ 4: –°–±–æ—Ä–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ CMake

### 4.1 –°–±–æ—Ä–∫–∞ React

- –í `web_experiment_react/`: `npm run build`.
- –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã: `dist/index.html`, `dist/assets/*.js`, `dist/assets/*.css`.

### 4.2 QRC –∏ –ø—É—Ç–∏

- –õ–∏–±–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ QRC –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `dist/` (–≤–∫–ª—é—á–∞—è `assets/` —Å —Ö–µ—à–∞–º–∏ –≤ –∏–º–µ–Ω–∞—Ö).
- –õ–∏–±–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Vite —Ç–∞–∫, —á—Ç–æ–±—ã –≤—ã—Ö–æ–¥ –±—ã–ª –±–µ–∑ —Ö–µ—à–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä `entryFileNames: 'assets/[name].js'`) –∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –∏–º–µ–Ω–∞ –¥–ª—è QRC.
- –í `index.html` –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∫—Ä–∏–ø—Ç—ã –∏ —Å—Ç–∏–ª–∏ –¥–æ–ª–∂–Ω—ã –≤–µ—Å—Ç–∏ –Ω–∞ —Ä–µ—Å—É—Ä—Å—ã, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–æ qrc (—Ç–æ –µ—Å—Ç—å —Ç–µ –∂–µ –ø—É—Ç–∏, —á—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ QRC).

### 4.3 CMake

- –ù–æ–≤—ã–π target, –Ω–∞–ø—Ä–∏–º–µ—Ä `web_experiment_react_build`:
  - `npm ci` / `npm install`
  - `npm run build`
  - –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `dist/*` –≤ –∫–∞—Ç–∞–ª–æ–≥, –æ—Ç–∫—É–¥–∞ QRC –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã.
- `Y.Disquette` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `web_experiment_react_build` –≤–º–µ—Å—Ç–æ (–∏–ª–∏ –≤–º–µ—Å—Ç–µ —Å) `web_experiment_build` –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è.
- –í –∫–æ–¥–µ –æ–∫–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞: `qrc:/web_experiment_react/index.html` (–∏–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π alias).

---

## –§–∞–∑–∞ 5: –ü–æ—ç—Ç–∞–ø–Ω–æ–µ –≤—ã–∫–ª—é—á–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–∞

1. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–æ–≤—ã–π UI –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏ –º–æ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç (–ª–æ–≥–∏–Ω, –¥–µ—Ä–µ–≤–æ, –∫–æ–Ω—Ç–µ–Ω—Ç, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è).
2. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é URL –≤ WebExperimentWindow –Ω–∞ –Ω–æ–≤—ã–π index.
3. –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç `web_experiment_build` –∏ —Å—Ç–∞—Ä—ã–µ –∑–∞–ø–∏—Å–∏ QRC –¥–ª—è `web_experiment/` (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø–∞–ø–∫—É –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏, –Ω–æ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞—Ç—å).
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –ø–∞–ø–∫—É `web_experiment/` (–ø–æ—Å–ª–µ –∫–æ–º–º–∏—Ç–∞/–±—ç–∫–∞–ø–∞).

---

## –î–∞–Ω–Ω—ã–µ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (—Ç–∏–ø—ã –∏ —Ö–µ–ª–ø–µ—Ä—ã)

- **–î–µ—Ä–µ–≤–æ:** —É–∑–µ–ª `{ path, name, dir, children?: TreeNode[], checked?: boolean }`. –ö–æ—Ä–µ–Ω—å ‚Äî –º–∞—Å—Å–∏–≤ —É–∑–ª–æ–≤ –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è.
- **–ö–æ–Ω—Ç–µ–Ω—Ç:** —ç–ª–µ–º–µ–Ω—Ç `{ path, name, dir, size?: number, modified?: string }`. –ò–∫–æ–Ω–∫–∞ –ø–æ —Ç–∏–ø—É: –ø–∞–ø–∫–∞ ‚Äî –æ–¥–Ω–∞, —Ñ–∞–π–ª—ã ‚Äî –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (–º–∞–ø–ø–∏–Ω–≥ ext ‚Üí emoji/–∏–∫–æ–Ω–∫–∞: pdf, doc/docx, xls/xlsx, img, video, audio, archive, code, default).
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** formatSize(bytes) ‚Üí —Å—Ç—Ä–æ–∫–∞ ¬´B/KB/MB/GB¬ª; –¥–∞—Ç–∞ modified –≤—ã–≤–æ–¥–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å –∏–ª–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å. –¢—É–ª—Ç–∏–ø —Ñ–∞–π–ª–∞: ¬´—Ä–∞–∑–º–µ—Ä ¬∑ modified¬ª, –ø–∞–ø–∫–∏: ¬´modified¬ª.
- **–°—Ç–∞—Ç—É—Å-–±–∞—Ä:** `{ quotaUsed, quotaTotal, syncStatus: 'off'|'on'|'syncing'|'error', syncMessage }`. –¶–≤–µ—Ç–∞ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ ‚Äî –ø–æ syncStatus (—Å–º. 2.5).
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏:** –ø–æ–ª—è syncPath, refreshIntervalSec, cloudCheckIntervalSec, maxRetries, hideToTray, closeToTray; –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π –≤ JSON —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Ç–µ–∫—É—â–∏–º C++ (getSettings/saveSettings).

---

## –ß–µ–∫-–ª–∏—Å—Ç —Ñ–∏—á (–Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è—Ç—å)

**–î–µ—Ä–µ–≤–æ**
- [ ] –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É–∑–ª–æ–≤: —Å—Ç—Ä–µ–ª–∫–∞, —á–µ–∫–±–æ–∫—Å, –∏–∫–æ–Ω–∫–∞ –ø–∞–ø–∫–∏ (–∑–∞–∫—Ä—ã—Ç–∞—è/–æ—Ç–∫—Ä—ã—Ç–∞—è), –∏–º—è.
- [ ] –†–∞—Å–∫—Ä—ã—Ç–∏–µ/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ, –ª–µ–Ω–∏–≤–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞ (requestChildrenForPath, __injectChildren__), –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä ¬´‚Ä¶¬ª –¥–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ—Ç–µ–π.
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏—è: ¬´Loading‚Ä¶¬ª / ¬´No tree data.¬ª –ø—Ä–∏ –ø—É—Å—Ç–æ–º –∏–ª–∏ –Ω–µ–≤–µ—Ä–Ω–æ–º __TREE_DATA__.
- [ ] –ß–µ–∫–±–æ–∫—Å ‚Üí setPathChecked(path, checked).
- [ ] –í—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–∞–ø–∫–∏ (selected), –∑–µ–ª—ë–Ω–∞—è —Å—Ç—Ä–µ–ª–∫–∞, —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –ø—É—Ç–∏ –∏ scrollIntoView –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–ª–∏ breadcrumbs.
- [ ] –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞: Enter/Space –ø–æ —Å—Ç—Ä–æ–∫–µ –ø–∞–ø–∫–∏ ‚Äî toggle expanded.

**–ö–æ–Ω—Ç–µ–Ω—Ç**
- [ ] –°–æ—Å—Ç–æ—è–Ω–∏—è: ¬´–ö–ª–∏–∫–Ω–∏—Ç–µ –ø–æ –ø–∞–ø–∫–µ —Å–ª–µ–≤–∞¬ª, ¬´–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶¬ª, ¬´–ü–∞–ø–∫–∞ –ø—É—Å—Ç–∞.¬ª / —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
- [ ] –¢—Ä–∏ —Ä–µ–∂–∏–º–∞: —Å–ø–∏—Å–æ–∫, —Ç–∞–±–ª–∏—Ü–∞ (–ò–º—è, –†–∞–∑–º–µ—Ä, –ò–∑–º–µ–Ω—ë–Ω), –∏–∫–æ–Ω–∫–∏ (—Å–µ—Ç–∫–∞); —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ –≤ state.
- [ ] –ò–∫–æ–Ω–∫–∏ –ø–æ —Ç–∏–ø—É/—Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (–ø–∞–ø–∫–∞ + EXT_ICONS), —Ç—É–ª—Ç–∏–ø—ã (—Ä–∞–∑–º–µ—Ä ¬∑ –¥–∞—Ç–∞ –¥–ª—è —Ñ–∞–π–ª–æ–≤, –¥–∞—Ç–∞ –¥–ª—è –ø–∞–ø–æ–∫).
- [ ] –ö–ª–∏–∫ –ø–æ –ø–∞–ø–∫–µ ‚Üí –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞; –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ —Ñ–∞–π–ª—É ‚Üí openFileFromCloud.
- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é: –°–∫–∞—á–∞—Ç—å (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–π–ª–æ–≤), –£–¥–∞–ª–∏—Ç—å —Å –î–∏—Å–∫–∞ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ); –ø–æ–∑–∏—Ü–∏—è –ø–æ–¥ –∫—É—Ä—Å–æ—Ä–æ–º; –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ –∏–ª–∏ –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è. –í Qt ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –º–µ–Ω—é (WebExperimentView).

**Breadcrumbs**
- [ ] –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä ¬´–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É¬ª, –∫–æ—Ä–µ–Ω—å –∫–∞–∫ ¬´–ö–æ—Ä–µ–Ω—å¬ª, —Å–µ–≥–º–µ–Ω—Ç—ã —Å ¬´/¬ª, –ø–æ—Å–ª–µ–¥–Ω–∏–π –Ω–µ –∫–ª–∏–∫–∞–±–µ–ª–µ–Ω (font-medium).
- [ ] –ö–ª–∏–∫ –ø–æ —Å–µ–≥–º–µ–Ω—Ç—É ‚Üí requestContentsForPath, syncTreeToPath, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ breadcrumbs.

**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∏ –º–æ—Å—Ç**
- [ ] –ö–Ω–æ–ø–∫–∏ –°–∏–Ω—Ö—Ä./–°—Ç–æ–ø: –≤–∏–¥–∏–º–æ—Å—Ç—å –°—Ç–æ–ø –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –°–∏–Ω—Ö—Ä. –ø—Ä–∏ syncStatus === 'syncing'.
- [ ] –°–∏–≥–Ω–∞–ª—ã downloadFinished, deleteFinished: —Ç–æ—Å—Ç –ø—Ä–∏ –æ—à–∏–±–∫–µ (–∞–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ ~5 —Å); –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º deleteFinished ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç (requestContentsForPath —Ç–µ–∫—É—â–µ–≥–æ –ø—É—Ç–∏).
- [ ] __onBridgeReady__: –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–∏–≥–Ω–∞–ª—ã, –ø—Ä–∏–≤—è–∑–∫–∞ –∫–Ω–æ–ø–æ–∫ –°–∏–Ω—Ö—Ä./–°—Ç–æ–ø.

**–°—Ç–∞—Ç—É—Å-–±–∞—Ä**
- [ ] –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä: —Ü–≤–µ—Ç –∏ title –ø–æ syncStatus (off/on/syncing/error).
- [ ] –ö–≤–æ—Ç–∞: –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä –∏ ¬´used / total¬ª –ø—Ä–∏ total > 0; ¬´‚Äî / ‚Äî¬ª –∏ —Å–∫—Ä—ã—Ç—ã–π –±–∞—Ä –ø—Ä–∏ total === 0.
- [ ] syncMessage (truncate).

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**
- [ ] –í—Å–µ –ø–æ–ª—è: syncPath, –û–±–∑–æ—Ä (chooseSyncFolder —Å —Ç–µ–∫—É—â–∏–º –ø—É—Ç—ë–º), refreshIntervalSec, cloudCheckIntervalSec, maxRetries, hideToTray, closeToTray.
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø–∞–Ω–µ–ª–∏ (getSettings), —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ –∫–Ω–æ–ø–∫–µ (saveSettings).

**–ü—Ä–æ—á–µ–µ**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –¥–µ—Ä–µ–≤–æ (–∫–Ω–æ–ø–∫–∞ –≤ —Å–∞–π–¥–±–∞—Ä–µ) ‚Üí getTreeJson() (Promise), –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π __TREE_DATA__ –∏ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ.
- [ ] –°–∞–π–¥–±–∞—Ä: –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ (–ù–∞–≤–∏–≥–∞—Ü–∏—è/–ù–∞—Å—Ç—Ä–æ–π–∫–∏).
- [ ] TypeScript: —Ç–∏–ø—ã –¥–ª—è bridge, TreeNode, ContentItem, StatusBarState, SettingsForm; —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Window –¥–ª—è __bridge, qt.

---

## –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç (–∫—Ä–∞—Ç–∫–æ)

1. –°–æ–∑–¥–∞—Ç—å `web_experiment_react/`, Vite + React + TS, Tailwind, shadcn/ui.
2. –û–ø–∏—Å–∞—Ç—å —Ç–∏–ø—ã –º–æ—Å—Ç–∞ –∏ –¥–∞–Ω–Ω—ã—Ö, –ø–æ–¥–∫–ª—é—á–∏—Ç—å QWebChannel, –≤—ã—Å—Ç–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–π C++.
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Layout, —Å–∞–π–¥–±–∞—Ä, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ù–∞–≤–∏–≥–∞—Ü–∏—è/–ù–∞—Å—Ç—Ä–æ–π–∫–∏.
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–µ—Ä–µ–≤–æ (–¥–∞–Ω–Ω—ã–µ –∏–∑ store, –ª–µ–Ω–∏–≤—ã–µ –¥–µ—Ç–∏, –∫–ª–∏–∫–∏, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –ø—É—Ç—ë–º).
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç (breadcrumbs, –≤–∏–¥—ã, –∫–ª–∏–∫–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é, —Ç–æ—Å—Ç).
6. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å-–±–∞—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
7. –ü–æ–¥–∫–ª—é—á–∏—Ç—å —Å–±–æ—Ä–∫—É –≤ CMake –∏ QRC, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å URL –≤ –æ–∫–Ω–µ.
8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ —á–µ–∫-–ª–∏—Å—Ç—É –∏ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ—Ä–æ–Ω—Ç.
